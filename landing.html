<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8"> 
  <title>landing</title>
  <meta name="description" content="">
  <meta name="author" content="Emre Can Eskimez">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    

  <!--Animation.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
<link rel="stylesheet" href="css/master.css">
<link rel="stylesheet" href="css/skeleton.css">
<link rel="stylesheet" href="css/normalize.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>

<link rel="stylesheet" href="css/tingle.css">
<script src="js/tingle.js"></script>
</head>

<html>
<body>
    
    


  
  
  <nav class="container u-full-width">

     
  
  
         <!--logo-->
    <img src="images/spy.png" class="logo " alt="">
    <h4 class=""  > LIBERI.WORLD</h4>
  
    
   
  </nav>



<script src="/js/fiddle.js"></script>








<div class="u-full-width">

    <form action="" id="searchbox" >


        <input id="search" placeholder="search for a room" type="text"  style="width:100vw;outline: none;">
    </form>

    <div>
        
          <center>  <button id="btnHidden" style="visibility: hidden;" class="animated bounceIn"><a id="link" href="http://localhost:3000/emre">Enter the room</a> </button></center>
        
        
    </div>


    <div class="container">
      <p>
        -New Theme coming soon <br>
        -Pathfinding is improving <br>
        -Gif support will be unlocked soon <br>
        
      </p>
      <i> Emre Can Eskimez</i>


            
    </div>

</body>
</html>


 <script>

 
 function HtmlEncode(s)
{
  var el = document.createElement("div");
  el.innerText = el.textContent = s;
  s = el.innerHTML;
  return s;
}
var  socket =  io.connect();
var $searchbox = $('#searchbox');
var  $search = $('#search');
var link = document.getElementById('link');

 

$searchbox.submit(function(e){

  e.preventDefault();


  if($search.val() != '' && $search.val() != ' ' )  {  //burda bütünboşlukları trimletebilirim

    

    //buraya xss tagları removelatacağım

  //serverdaki send message fonksiyonuna gidiyor
  socket.emit('search', HtmlEncode($search.val()) );
  //set link value
  var path = '/'+$search.val();
  link.setAttribute('href',path);
  //visible
  
  document.getElementById("btnHidden").style.visibility = "visible";
  $search.val('');

} 

else  
  console.log("You cant send an empty message");
  

});
 
 </script>